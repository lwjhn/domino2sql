{
  "debugger": true,
  "driver_manager_log": false,
  "options": [
    {
      "action_all_count": 0,
      "action_err_count": 0,
      "action_succ_count": 0,
      "after_action_driver": "com.lwjhn.domino2sql.driver.AfterActionDriverFormula",
      "before_action_driver": "com.lwjhn.domino2sql.driver.BeforeActionDriverFormula",
      "debugger": true,
      "domino_error_flag_field": "ArcXC_Error_FLAG",
      "domino_queries": [
        {
          "action_all_count": 3,
          "action_err_count": 0,
          "action_succ_count": 3,
          "debugger": true,
          "domino_dbpath": "docs/10005.nsf",
          "domino_error_flag_field": "ArcXC_Error_FLAG",
          "domino_query": "Form=\"Document\" & Published=\"1\" ",
          "domino_server": "PUBLIC/SRV/FJSF",
          "domino_succ_flag_field": "ArcXC_Succ_FLAG",
          "domino_uuid_prefix": "ArcXC_UUID_",
          "enable": true,
          "error_continue": true,
          "ftppath": "/FTP_XC/",
          "ftppath_regex": "^[a-zA-Z]:",
          "update_mode_no_insert": false,
          "vesion": "1"
        },
        {
          "action_all_count": 197,
          "action_err_count": 1,
          "action_succ_count": 196,
          "debugger": true,
          "domino_dbpath": "docs/10001.nsf",
          "domino_error_flag_field": "ArcXC_Error_FLAG",
          "domino_query": "Form=\"Document\" & Published=\"1\" ",
          "domino_server": "PUBLIC/SRV/FJSF",
          "domino_succ_flag_field": "ArcXC_Succ_FLAG",
          "domino_uuid_prefix": "ArcXC_UUID_",
          "enable": true,
          "error_continue": true,
          "ftppath": "/FTP_XC/",
          "ftppath_regex": "^[a-zA-Z]:",
          "update_mode_no_insert": false,
          "vesion": "1"
        }
      ],
      "domino_query": "Form=\"Document\" & Published=\"1\" ",
      "domino_server": "PUBLIC/SRV/FJSF",
      "domino_succ_flag_field": "ArcXC_Succ_FLAG",
      "domino_uuid_prefix": "ArcXC_UUID_",
      "enable": true,
      "error_continue": true,
      "extended_options": {
        "before_sql_formula": "FileId:= ArcXC_UUID_16; @If(FileId=\"\";@Nothing; \"UPDATE EGOV_ATT SET STATUS = '删除' WHERE DOC_ID = '\"+FileId+\"'\");",
        "after_sql_formula": "docId:= ArcXC_UUID_16; DOMINO_PID := INITUNID;\n@if(docId=\"\";@Nothing; \"UPDATE EGOV_OPINION SET DOC_ID = '\"+docId+\"' WHERE DOMINO_PID ='\"+DOMINO_PID+\"'\");",
        "mongo_db": "sftoamongo",
        "mongo_map_sql_formula": "DocId:= ArcXC_UUID_16;\nFileId:= _mongodb_file_id_;\nFileType:=@LowerCase(\"@FileType\");FileType:=@If(FileType=\"mss\";\"main_doc\";FileType=\"flow\";\"flow\";\"attach\");\n\"INSERT INTO EGOV_ATT (ID, MODULE_ID, DOC_ID, EGOV_FILE_ID, FILE_NAME, FILE_SUFFIX, \\\"TYPE\\\", STATUS, SORT_TIME, CREATE_TIME) \n\tVALUES('\"+ FileId +\"', '\"+@Right(@ReplaceSubstring(@Left(@UpperCase(@Subset(@DbName;-1));\".\");\"\\\\\";\"/\");\"/\")+\"', '\" + DocId + \"', '\"+ FileId + \"', '@FileName',  '@FileSuffix', '\"+FileType+\"','正常', 0, NOW);\nINSERT INTO EGOV_FILE (ID, FILE_PATH, CREATE_TIME) VALUES('\"+ FileId +\"', '\"+ FileId +\"', NOW);\"",
        "export_processing": false,
        "export_flow": false,
        "mongo_bucket": "fs",
        "children": [
          {
            "sql_update_primary_key": {
              "jdbc_type": "VARCHAR",
              "domino_formula": "@Text(@DocumentUniqueID)",
              "sql_name": "DOMINO_ID",
              "scale_length": 0
            },
            "vesion": "1.6.4",
            "domino_query": "\"Form=\\\"DocSignLog\\\" & InitUNID=\\\"\"+ @If(INITUNID=\"\";@Text(@DocumentUniqueID); INITUNID)  +\"\\\"\"",
            "after_action_driver": "com.lwjhn.domino2sql.driver.ActionShowLog",
            "enable": true,
            "domino_dbpath": "\"doclog/DocSignLog\" + @Text(@Year(@If(@IsAvailable(PublishTime) | @IsTime(PublishTime); PublishTime; @Created))) +  \".nsf\"",
            "update_mode_no_insert": false,
            "sql_field_others": [
              {
                "jdbc_type": "VARCHAR",
                "domino_formula": "ArcXC_UUID_16",
                "sql_name": "ID",
                "scale_length": 0
              },
              {
                "jdbc_type": "VARCHAR",
                "domino_formula": "@Text(@DocumentUniqueID)",
                "sql_name": "DOMINO_ID",
                "scale_length": 0
              },
              {
                "jdbc_type": "VARCHAR",
                "domino_formula": "@Nothing",
                "sql_name": "DOC_ID",
                "scale_length": 0
              },
              {
                "jdbc_type": "VARCHAR",
                "domino_formula": "INITUNID",
                "sql_name": "DOMINO_PID",
                "scale_length": 0
              },
              {
                "jdbc_type": "VARCHAR",
                "domino_formula": "SIGNUNITID",
                "sql_name": "RECEIVE_UNIT_NO",
                "scale_length": 0
              },
              {
                "jdbc_type": "VARCHAR",
                "domino_formula": "SIGNUNIT",
                "sql_name": "RECEIVE_UNIT_NAME",
                "scale_length": 0
              },
              {
                "jdbc_type": "VARCHAR",
                "domino_formula": "SIGNUSER",
                "sql_name": "RECEIVE_USER_NAME",
                "scale_length": 0
              },
              {
                "jdbc_type": "TIMESTAMP",
                "domino_formula": "SIGNTIME",
                "sql_name": "RECEIVE_TIME",
                "scale_length": 0
              }
            ],
            "ftppath": "/FTP_XC/",
            "domino_server": "@ServerName",
            "sql_table": "EGOV_EX_RECEIVE_TRACK"
          }
        ],
        "export_opinion": false,
        "attachment_query": "\"!@Contains(Form;\\\"DelForm\\\") & (DOCUNID = \\\"\" + @Text(@DocumentUniqueID) + \"\\\"\" + @If(INITUNID=\"\";\"\";\" | DOCUNID = \\\"\" + INITUNID + \"\\\"\") + @If(MSSUNID=\"\";\"\";\" | @Text(@DocumentUniqueID) = \\\"\" + MSSUNID + \"\\\"\") + \")\"",
        "mongo_url": "mongodb://192.168.210.186:27017",
        "mongo_file_id_formula": "@SetField(\"_mongodb_file_id_\";\"@UUID16\");_mongodb_file_id_"
      },
      "ftppath": "/FTP_XC/",
      "ftppath_regex": "^[a-zA-Z]:",
      "on_action_driver": "com.rjsoft.driver.OnActionDriverMongoDb",
      "sql_field_others": [
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "ArcXC_UUID_16",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "ID"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "@Text(@DocumentUniqueID)",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "DOMINO_ID"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "@If(INITUNID=\"\";@Text(@DocumentUniqueID); INITUNID)",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "INITUNID"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "Category",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "DOC_TYPE"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "DocMark",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "DOC_MARK"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "SecrecyTerm",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "SECURE_TERM"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "DispatchSigner",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "SIGN_USER"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "FromUnit",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "CREATE_UNIT_NAME"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "FromUnitID",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "CREATE_UNIT_NO"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "DispatchUnit",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "SEND_UNIT"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "PUBLISHTIME",
          "jdbc_type": "TIMESTAMP",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "SEND_TIME"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "Publisher",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "PUBLISH_USER"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "PUBLISHTIME",
          "jdbc_type": "TIMESTAMP",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "CREATE_TIME"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "PrintCount",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "ISSUED_NUM"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "PrintDate",
          "jdbc_type": "TIMESTAMP",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "ISSUED_TIME"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_name": "Memo",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "CONTENT"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "Subject",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "SUBJECT"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "SecretLevel",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "SEC_LEVEL"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "UrgencyLevel",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "URGENCY"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "MainSend",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "MAIN_SEND_DEPT_NAMES"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "CopySendDown",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "COPY_SEND_DEPT_NAMES"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "DispatchUnits",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "REC_UNIT_NAME"
        },
        {
          "date_format": "yyyy-MM-dd HH:mm:ss",
          "domino_formula": "DispatchUnitIDs",
          "jdbc_type": "VARCHAR",
          "join_delimiter": "; ",
          "scale_length": 0,
          "sql_name": "REC_UNIT_NO"
        }
      ],
      "sql_table": "EGOV_EX_DOC",
      "sql_update_primary_key": {
        "date_format": "yyyy-MM-dd HH:mm:ss",
        "domino_formula": "@Text(@DocumentUniqueID)",
        "jdbc_type": "VARCHAR",
        "join_delimiter": "; ",
        "scale_length": 0,
        "sql_name": "DOMINO_ID"
      },
      "update_mode_no_insert": false,
      "vesion": "1"
    }
  ],
  "sql_driver": "dm.jdbc.driver.DmDriver",
  "sql_password": "123456789",
  "sql_url": "jdbc:dm://192.168.210.77:5236/SFTPUB?connectTimeout=3000&socketTimeout=60000&useUnicode=true&characterEncoding=UTF-8&serverTimezone=UTC",
  "sql_username": "SFTPUB"
}